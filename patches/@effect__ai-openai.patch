diff --git a/dist/esm/Generated.js b/dist/esm/Generated.js
index 4651d56d4777d0d2662c7de45f7d4d37baf5559c..cf515a5709df64c5ca64fe5ed6407f7864374752 100644
--- a/dist/esm/Generated.js
+++ b/dist/esm/Generated.js
@@ -1527,9 +1527,7 @@ import*as HttpClientError from"@effect/platform/HttpClientError";import*as HttpC
  * Action type "search" - Performs a web search query.
  */export class WebSearchActionSearch extends/*#__PURE__*/S.Class("WebSearchActionSearch")({/**
      * The action type.
-     */"type":WebSearchActionSearchType,/**
-     * The search query.
-     */"query":S.String,/**
+     */"type":S.String,/**
      * The sources used in the search.
      */"sources":/*#__PURE__*/S.optionalWith(/*#__PURE__*/S.Array(/*#__PURE__*/S.Struct({/**
          * The type of source. Always `url`.
@@ -1543,17 +1541,17 @@ import*as HttpClientError from"@effect/platform/HttpClientError";import*as HttpC
      * The action type.
      */"type":WebSearchActionOpenPageType,/**
      * The URL opened by the model.
-     */"url":S.String}){}/**
+     */"url":S.optional(S.String)}){}/**
  * The action type.
  */export class WebSearchActionFindType extends/*#__PURE__*/S.Literal("find"){}/**
  * Action type "find": Searches for a pattern within a loaded page.
  */export class WebSearchActionFind extends/*#__PURE__*/S.Class("WebSearchActionFind")({/**
      * The action type.
-     */"type":WebSearchActionFindType,/**
+     */"type":S.String,/**
      * The URL of the page searched for the pattern.
-     */"url":S.String,/**
+     */"url":S.optional(S.String),/**
      * The pattern or text to search for within the page.
-     */"pattern":S.String}){}/**
+     */"pattern":S.optional(S.String)}){}/**
  * The results of a web search tool call. See the
  * [web search guide](https://platform.openai.com/docs/guides/tools-web-search) for more information.
  */export class WebSearchToolCall extends/*#__PURE__*/S.Class("WebSearchToolCall")({/**
@@ -1565,7 +1563,7 @@ import*as HttpClientError from"@effect/platform/HttpClientError";import*as HttpC
      */"status":WebSearchToolCallStatus,/**
      * An object describing the specific action taken in this web search call.
      * Includes details on how the model used the web (search, open_page, find).
-     */"action":/*#__PURE__*/S.Record({key:S.String,value:S.Unknown})}){}/**
+     */"action":/*#__PURE__*/S.optionalWith(S.Record({key:S.String,value:S.Unknown}), { default: () => ({}) })}){}/**
  * The type of the image generation call. Always `image_generation_call`.
  */export class ImageGenToolCallType extends/*#__PURE__*/S.Literal("image_generation_call"){}/**
  * The status of the image generation call.
diff --git a/dist/esm/OpenAiLanguageModel.js b/dist/esm/OpenAiLanguageModel.js
index 63b19f1035baef958a366b02bb2af99f74b848ed..5ae4d8a01e5d1c1b1d0fa4b282f2590b6d2bf1e7 100644
--- a/dist/esm/OpenAiLanguageModel.js
+++ b/dist/esm/OpenAiLanguageModel.js
@@ -268,15 +268,13 @@ const prepareMessages = /*#__PURE__*/Effect.fnUntraced(function* (options, confi
                 }
               case "tool-call":
                 {
-                  if (!part.providerExecuted) {
-                    messages.push({
-                      id: getItemId(part),
-                      type: "function_call",
-                      call_id: part.id,
-                      name: part.name,
-                      arguments: JSON.stringify(part.params)
-                    });
-                  }
+                  messages.push({
+                    id: getItemId(part),
+                    type: "function_call",
+                    call_id: part.id,
+                    name: part.name,
+                    arguments: JSON.stringify(part.params)
+                  });
                   break;
                 }
             }
